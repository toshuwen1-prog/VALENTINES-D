<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine?</title>
  <style>
    :root{
      --text: #111;
      --shadow: 0 18px 60px rgba(0,0,0,.25);

      /* solid buttons */
      --btn-bg: #ffffff;
      --btn-text: #111111;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100vh;
      overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);

      background:
        linear-gradient(rgba(0,0,0,.28), rgba(0,0,0,.28)),
        url("background.jpg") center / cover no-repeat fixed;
    }

    .stage{
      position:relative;
      width:100vw;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 24px;
    }

    .content{
      width:min(820px, 92vw);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      text-align:center;
    }

    /* readable text without a box */
    .headline{
      width:100%;
      padding: 6px 8px;
      text-shadow: 0 10px 28px rgba(0,0,0,.45);
      color: rgba(255,255,255,.97);
      position: relative;
      z-index: 2;
    }

    h1{
      margin:0 0 6px;
      font-size: clamp(28px, 4.5vw, 44px);
      letter-spacing:.2px;
    }

    #subtitle{
      margin:0;
      font-size: clamp(16px, 2.2vw, 20px);
      opacity:.98;
      min-height: 1.6em;
    }

    .gif{
      width: min(260px, 70vw);
      height:auto;
      border-radius: 16px;
      box-shadow: 0 16px 40px rgba(0,0,0,.28);
      background: transparent;
      padding: 0;
      border: 0;
      outline: 0;
      display:block;
      position: relative;
      z-index: 2;
    }

    .buttons{
      position:relative;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 6px;
      z-index: 2;
    }

    /* solid, same baseline size for both */
    .btn{
      border: 2px solid rgba(0,0,0,.12);
      background: var(--btn-bg);
      color: var(--btn-text);
      border-radius: 14px;

      /* same size for both buttons at start */
      width: 160px;
      height: 54px;

      font-weight: 800;
      font-size: 18px;
      box-shadow: 0 10px 20px rgba(0,0,0,.20);
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, box-shadow .12s ease;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    .btn:active{ transform: translateY(1px); }

    #yesBtn{
      transform-origin: center;
      will-change: transform, width, height;
    }

    /* NO starts beside YES, then becomes free-moving */
    #noBtn{
      position: static;
      white-space:nowrap;
      z-index: 5;
    }
    #noBtn.floating{
      position:absolute;
      z-index: 6;
    }

    /* takeover YES */
    #yesBtn.takeover{
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      border-radius: 0;
      font-size: clamp(34px, 6vw, 70px);
      box-shadow: none;
      border: none;
      background: #ffffff;
      z-index: 9999;
      transform: none !important;
    }

    /* very visible takeover message */
    #takeoverMsg{
      position: fixed;
      inset: 0;
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 10000; /* above takeover button */
      pointer-events:none;
    }
    #takeoverMsg .bubble{
      background: rgba(0,0,0,.70);
      color: #fff;
      padding: 18px 22px;
      border-radius: 16px;
      font-size: clamp(18px, 2.8vw, 28px);
      font-weight: 900;
      letter-spacing: .2px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      text-shadow: none;
    }

    /* Celebration overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.45);
      padding: 24px;
      z-index: 11000;
    }
    .modal{
      width:min(680px, 92vw);
      background: #ffffff;
      border-radius: 18px;
      padding: 18px;
      box-shadow: var(--shadow);
      text-align:center;
    }
    .modal h2{
      margin: 0 0 8px;
      font-size: clamp(26px, 4.5vw, 44px);
      color:#111;
    }
    .modal p{
      margin: 0 0 14px;
      font-size: 18px;
      color:#111;
    }
  </style>
</head>

<body>
  <div class="stage" id="stage">
    <div class="content">
      <div class="headline">
        <h1>Will you be my Valentine?</h1>
        <p id="subtitle">be nice pls</p>
      </div>

      <img class="gif" src="milk-mocha-bear.gif" alt="cute gif" />

      <div class="buttons" id="buttons">
        <button id="yesBtn" class="btn">YES</button>
        <button id="noBtn" class="btn">NO</button>
      </div>
    </div>
  </div>

  <!-- takeover message that sits ABOVE the full-screen yes button -->
  <div id="takeoverMsg">
    <div class="bubble">now you have to say yes</div>
  </div>

  <div class="overlay" id="overlay">
    <div class="modal">
      <h2>OKAYYYYYYYY</h2>
      <p>locked in. youâ€™re my valentine. no takebacks.</p>
      <button id="closeBtn" class="btn">OK</button>
    </div>
  </div>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const subtitle = document.getElementById("subtitle");
    const overlay = document.getElementById("overlay");
    const closeBtn = document.getElementById("closeBtn");
    const stage = document.getElementById("stage");
    const takeoverMsg = document.getElementById("takeoverMsg");

    let noCount = 0;

    const prompts = [
      "please pookie",
      "i tried rly hard to make this tho",
      "im gonna cry if u click no again",
      "wow so just say you dont love me anymore",
      "be so fr right now",
      "okayyyyy but imagine us being cute on valentines",
      "i am literally begging respectfully",
      "dont do this to me",
      "pookie pleaseeee",
      "ok last time before i combust"
    ];

    function growYes() {
      const scale = 1 + noCount * 0.55;
      yesBtn.style.transform = `scale(${scale})`;

      if (scale >= 3.8) {
        yesBtn.classList.add("takeover");
        noBtn.style.display = "none";
        takeoverMsg.style.display = "flex";
      }
    }

    function moveNoRandom() {
      const pad = 12;
      const rect = noBtn.getBoundingClientRect();
      const maxX = window.innerWidth - rect.width - pad;
      const maxY = window.innerHeight - rect.height - pad;

      const x = Math.max(pad, Math.floor(Math.random() * maxX));
      const y = Math.max(pad, Math.floor(Math.random() * maxY));

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    }

    noBtn.addEventListener("click", () => {
      noCount++;
      subtitle.textContent = prompts[(noCount - 1) % prompts.length];

      if (!noBtn.classList.contains("floating")) {
        noBtn.classList.add("floating");
        stage.appendChild(noBtn);
      }
      moveNoRandom();
      growYes();
    });

    yesBtn.addEventListener("click", () => {
      overlay.style.display = "flex";
      yesBtn.disabled = true;
      noBtn.disabled = true;
      noBtn.style.display = "none";
    });

    closeBtn.addEventListener("click", () => {
      overlay.style.display = "none";
    });

    window.addEventListener("resize", () => {
      if (noBtn.classList.contains("floating") && noBtn.style.display !== "none") {
        moveNoRandom();
      }
    });
  </script>
</body>
</html>
